{
  "id": "206247b6-9fec-4ed2-8927-e4f388c674d4",
  "revision": 0,
  "last_node_id": 268,
  "last_link_id": 447,
  "nodes": [
    {
      "id": 147,
      "type": "PathchSageAttentionKJ",
      "pos": [
        -221.9109339087893,
        2311.298428622159
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 238
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            233
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.6",
        "Node name for S&R": "PathchSageAttentionKJ",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "auto"
      ]
    },
    {
      "id": 158,
      "type": "WanVideoEnhanceAVideoKJ",
      "pos": [
        1266.9893798828125,
        2294.662841796875
      ],
      "size": [
        292.02166748046875,
        78
      ],
      "flags": {},
      "order": 77,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 252
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 253
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            250
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.6",
        "Node name for S&R": "WanVideoEnhanceAVideoKJ",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        2
      ]
    },
    {
      "id": 148,
      "type": "TorchCompileModel",
      "pos": [
        -455.2567819922851,
        2310.725918856534
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 20,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 239
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            238
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "TorchCompileModel",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "inductor"
      ]
    },
    {
      "id": 139,
      "type": "CLIPLoader",
      "pos": [
        -449.5955271094726,
        2441.711026278409
      ],
      "size": [
        346.391845703125,
        106
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            228,
            229
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "CLIPLoader",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        "wan",
        "default"
      ]
    },
    {
      "id": 149,
      "type": "VAEEncode",
      "pos": [
        1287.2052001953125,
        2549.64990234375
      ],
      "size": [
        236.51193237304688,
        46
      ],
      "flags": {},
      "order": 76,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 281
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 241
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            249,
            253
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 141,
      "type": "ModelSamplingSD3",
      "pos": [
        108.20916039052716,
        2590.114590731534
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 232
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            252
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "ModelSamplingSD3",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        5
      ]
    },
    {
      "id": 140,
      "type": "VAELoader",
      "pos": [
        -448.46009009775383,
        2593.661221590909
      ],
      "size": [
        344.731689453125,
        59.98149108886719
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            231,
            241,
            297
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
            "directory": "vae"
          }
        ],
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan_2.1_vae.safetensors"
      ]
    },
    {
      "id": 142,
      "type": "UNETLoader",
      "pos": [
        -457.7548288672851,
        2162.385098544034
      ],
      "size": [
        434.1441345214844,
        82
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            239
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ],
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors",
        "default"
      ]
    },
    {
      "id": 138,
      "type": "VAEDecode",
      "pos": [
        1614.0874608095526,
        2670.7316947824293
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 80,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 291
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 231
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            313
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 146,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -36.01758521494174,
        2462.363370028409
      ],
      "size": [
        371.11224365234375,
        82.71818542480469
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 237
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            232
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Wan2.2-Fun-A14B-InP-low-noise-HPS2.1.safetensors",
        0.6
      ]
    },
    {
      "id": 143,
      "type": "LoraLoaderModelOnly",
      "pos": [
        1.260994496972344,
        2167.279629794034
      ],
      "size": [
        474.72177118049484,
        82
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 233
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            251
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan2.2_i2v_A14b_low_noise_lora_rank64_lightx2v_4step_1022.safetensors",
        0.8
      ]
    },
    {
      "id": 137,
      "type": "CLIPTextEncode",
      "pos": [
        659.5120239257812,
        2521.90673828125
      ],
      "size": [
        419.2779541015625,
        126.60604095458984
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 229
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            248
          ]
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走, flickering"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 136,
      "type": "CLIPTextEncode",
      "pos": [
        578.6664428710938,
        2261.258544921875
      ],
      "size": [
        610.844970703125,
        211.31312561035156
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 228
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            287
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.45",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "8K, UHD"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 190,
      "type": "ImageUpscaleWithModel",
      "pos": [
        1867.4404044331884,
        2657.2760831262676
      ],
      "size": [
        221.98203125,
        46
      ],
      "flags": {},
      "order": 81,
      "mode": 4,
      "inputs": [
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": null
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 313
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            316
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "Node name for S&R": "ImageUpscaleWithModel",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 202,
      "type": "SeedVR2LoadVAEModel",
      "pos": [
        -304.2992106046066,
        3252.8213122922457
      ],
      "size": [
        312.866796875,
        298
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "torch_compile_args",
          "shape": 7,
          "type": "TORCH_COMPILE_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SEEDVR2_VAE",
          "type": "SEEDVR2_VAE",
          "links": [
            334
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "690cc39379c1481159ddd451368dbf2295930fc6",
        "Node name for S&R": "SeedVR2LoadVAEModel",
        "aux_id": "ainvfx/ComfyUI-SeedVR2_VideoUpscaler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ema_vae_fp16.safetensors",
        "cuda:0",
        false,
        1024,
        128,
        true,
        768,
        128,
        "false",
        "none",
        false
      ]
    },
    {
      "id": 165,
      "type": "Reroute",
      "pos": [
        -58.617958068847656,
        2727.304443359375
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 75,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 430
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            281
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false,
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      }
    },
    {
      "id": 157,
      "type": "LoraLoaderModelOnly",
      "pos": [
        6.811714711816105,
        2319.542813387784
      ],
      "size": [
        322.2436828613281,
        82
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 251
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            237
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Instagirlv2.5-LOW.safetensors",
        0.55
      ]
    },
    {
      "id": 197,
      "type": "ImageResizeKJ",
      "pos": [
        -679.9807255026793,
        3177.2030337380097
      ],
      "size": [
        315,
        266
      ],
      "flags": {},
      "order": 71,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 424
        },
        {
          "name": "get_image_size",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            335
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "Node name for S&R": "ImageResizeKJ",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.4.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        832,
        480,
        "lanczos",
        false,
        2,
        0
      ]
    },
    {
      "id": 201,
      "type": "SeedVR2LoadDiTModel",
      "pos": [
        -286.39345014732635,
        2979.471202394204
      ],
      "size": [
        307.6646484375,
        202
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "torch_compile_args",
          "shape": 7,
          "type": "TORCH_COMPILE_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SEEDVR2_DIT",
          "type": "SEEDVR2_DIT",
          "links": [
            333
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "690cc39379c1481159ddd451368dbf2295930fc6",
        "Node name for S&R": "SeedVR2LoadDiTModel",
        "aux_id": "ainvfx/ComfyUI-SeedVR2_VideoUpscaler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "seedvr2_ema_7b_fp16.safetensors",
        "cuda:0",
        0,
        false,
        "none",
        false,
        "flash_attn"
      ]
    },
    {
      "id": 203,
      "type": "VHS_VideoCombine",
      "pos": [
        514.1294295848171,
        3598.8872209597566
      ],
      "size": [
        1360.3017344969585,
        1121.2510006713223
      ],
      "flags": {},
      "order": 74,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 429
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_VideoCombine",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "frame_rate": 18,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00009.mp4",
            "subfolder": "",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 18,
            "workflow": "AnimateDiff_00009.png",
            "fullpath": "/code/ComfyUI/temp/AnimateDiff_00009.mp4"
          }
        }
      }
    },
    {
      "id": 176,
      "type": "VHS_VideoCombine",
      "pos": [
        1885.690939247984,
        3596.6561687600106
      ],
      "size": [
        1371.879114794256,
        1127.9302585351477
      ],
      "flags": {},
      "order": 85,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 433
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_VideoCombine",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "frame_rate": 18,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00017.mp4",
            "subfolder": "",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 18,
            "workflow": "AnimateDiff_00017.png",
            "fullpath": "/code/ComfyUI/temp/AnimateDiff_00017.mp4"
          }
        }
      }
    },
    {
      "id": 155,
      "type": "ContextWindowsManual",
      "pos": [
        1636.2538993396552,
        2178.9848971902716
      ],
      "size": [
        270,
        202
      ],
      "flags": {},
      "order": 78,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 250
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            246
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ContextWindowsManual",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        128,
        10,
        "standard_uniform",
        1,
        false,
        "pyramid",
        0
      ]
    },
    {
      "id": 204,
      "type": "ClipLoaderGGUF",
      "pos": [
        -7334.515704075145,
        2288.057522169625
      ],
      "size": [
        370,
        110
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            392
          ]
        }
      ],
      "properties": {
        "cnr_id": "gguf",
        "ver": "556ffba1a1dff3f5e1d1ad65c3103839883a824c",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ClipLoaderGGUF"
      },
      "widgets_values": [
        "umt5-xxl-encoder-Q8_0.gguf",
        "wan",
        "default"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 205,
      "type": "VAELoader",
      "pos": [
        -7334.515704075145,
        2448.0575221696267
      ],
      "size": [
        370,
        60
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            391
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
            "hash": "2fc39d31359a4b0a64f55876d8ff7fa8d780956ae2cb13463b0223e15148976b",
            "hash_type": "SHA256",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": [
        "wan_2.1_vae.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 206,
      "type": "GetNode",
      "pos": [
        -6281.559179188215,
        1780.8295730182122
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            394
          ]
        }
      ],
      "title": "Get_MODEL",
      "properties": {
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "MODEL"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 207,
      "type": "GetNode",
      "pos": [
        -6281.559179188215,
        1890.829573018211
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            396,
            397,
            399
          ]
        }
      ],
      "title": "Get_CLIP",
      "properties": {
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CLIP"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 208,
      "type": "GetNode",
      "pos": [
        -6281.559179188215,
        2000.8295730182106
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            350,
            412
          ]
        }
      ],
      "title": "Get_VAE",
      "properties": {
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 209,
      "type": "ImageResizeKJ",
      "pos": [
        -5233.030178213602,
        2667.673581499614
      ],
      "size": [
        315,
        266
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 343
        },
        {
          "name": "get_image_size",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            345,
            346,
            351
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            354
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            355
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.4.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        960,
        544,
        "lanczos",
        false,
        2,
        0
      ]
    },
    {
      "id": 210,
      "type": "ImageConcatMulti",
      "pos": [
        -3256.220373981052,
        2829.994808038243
      ],
      "size": [
        270,
        170
      ],
      "flags": {},
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "image_1",
          "type": "IMAGE",
          "link": 344
        },
        {
          "name": "image_2",
          "shape": 7,
          "type": "IMAGE",
          "link": 345
        },
        {
          "name": "image_3",
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            347
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.2",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        2,
        "down",
        true,
        null
      ]
    },
    {
      "id": 212,
      "type": "VHS_VideoCombine",
      "pos": [
        -2823.4349167716227,
        2819.314162118818
      ],
      "size": [
        521.4673226853083,
        916.3296323766828
      ],
      "flags": {},
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 347
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "vace_repaint_out",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "vace_repaint_out_00030.mp4",
            "workflow": "vace_repaint_out_00030.png",
            "fullpath": "/code/ComfyUI/temp/vace_repaint_out_00030.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 213,
      "type": "WanVaceToVideo",
      "pos": [
        -4624.160889537267,
        2235.5877386819866
      ],
      "size": [
        280,
        260
      ],
      "flags": {},
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 348
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 349
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 350
        },
        {
          "name": "control_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 351
        },
        {
          "name": "control_masks",
          "shape": 7,
          "type": "MASK",
          "link": 352
        },
        {
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 353
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 354
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 355
        },
        {
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 356
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            382,
            402
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            383,
            403
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            384
          ]
        },
        {
          "name": "trim_latent",
          "type": "INT",
          "links": [
            410
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "WanVaceToVideo"
      },
      "widgets_values": [
        960,
        544,
        25,
        1,
        1
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 218,
      "type": "VHS_SelectEveryNthImage",
      "pos": [
        -4591.077963373788,
        4028.3559434023173
      ],
      "size": [
        266.349609375,
        102
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 361
        },
        {
          "name": "select_every_nth",
          "type": "INT",
          "widget": {
            "name": "select_every_nth"
          },
          "link": 362
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            368
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "VHS_SelectEveryNthImage"
      },
      "widgets_values": {
        "select_every_nth": 1,
        "skip_first_images": 0
      }
    },
    {
      "id": 219,
      "type": "Int",
      "pos": [
        -5267.26768448066,
        4432.740958313154
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            362,
            364,
            380
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyLiterals",
        "ver": "bdddb08ca82d90d75d97b1d437a652e0284a32ac",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "Int"
      },
      "widgets_values": [
        "16"
      ]
    },
    {
      "id": 220,
      "type": "easy rangeInt",
      "pos": [
        -4858.3252514677815,
        4426.0769174792795
      ],
      "size": [
        220,
        174
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "stop",
          "type": "INT",
          "widget": {
            "name": "stop"
          },
          "link": 363
        },
        {
          "name": "step",
          "type": "INT",
          "widget": {
            "name": "step"
          },
          "link": 364
        }
      ],
      "outputs": [
        {
          "name": "range",
          "shape": 6,
          "type": "INT",
          "links": [
            365
          ]
        },
        {
          "name": "range_sizes",
          "shape": 6,
          "type": "INT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "fa7c5d8b4d964abb9a444ad1c5ab32e127c60f72",
        "ue_properties": {
          "widget_ue_connectable": {
            "range_mode": true,
            "start": true,
            "stop": true,
            "step": true,
            "num_steps": true,
            "end_mode": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "easy rangeInt"
      },
      "widgets_values": [
        "step",
        0,
        15,
        10,
        4,
        "Exclusive"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 221,
      "type": "CR Integer To String",
      "pos": [
        -4569.418766206479,
        4423.255341928552
      ],
      "size": [
        220,
        50
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "int_",
          "type": "INT",
          "link": 365
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            366
          ]
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_Comfyroll_CustomNodes",
        "ver": "d78b780ae43fcf8c6b7c6505e6ffb4584281ceca",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "CR Integer To String"
      },
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 222,
      "type": "StringListToString",
      "pos": [
        -4282.422521986761,
        4421.596387420979
      ],
      "size": [
        220,
        60
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "string_list",
          "type": "STRING",
          "link": 366
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            369,
            370,
            420
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "2346b677666e14ad53a6e65e16a33289a78106c7",
        "ue_properties": {
          "widget_ue_connectable": {
            "join_with": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "StringListToString"
      },
      "widgets_values": [
        ", "
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 223,
      "type": "InsertImagesToBatchIndexed",
      "pos": [
        -4175.706638286259,
        3648.527893676611
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "original_images",
          "type": "IMAGE",
          "link": 367
        },
        {
          "name": "images_to_insert",
          "type": "IMAGE",
          "link": 368
        },
        {
          "name": "indexes",
          "type": "STRING",
          "widget": {
            "name": "indexes"
          },
          "link": 369
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            343,
            423
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "InsertImagesToBatchIndexed"
      },
      "widgets_values": [
        "10, 1, 2",
        "replace"
      ]
    },
    {
      "id": 224,
      "type": "ShowText|pysssss",
      "pos": [
        -4156.154183190579,
        3908.625031746625
      ],
      "size": [
        370.24225878552625,
        127.09775144593004
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 370
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "1.2.5",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "0, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240"
      ]
    },
    {
      "id": 225,
      "type": "SolidMask",
      "pos": [
        -3439.486153206557,
        3810.1043235631646
      ],
      "size": [
        220,
        230
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 371
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 372
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            375
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true,
            "width": true,
            "height": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "SolidMask"
      },
      "widgets_values": [
        1,
        768,
        768
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 226,
      "type": "SolidMask",
      "pos": [
        -3435.8802801638103,
        4088.746436234298
      ],
      "size": [
        220,
        230
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 373
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 374
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            378
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true,
            "width": true,
            "height": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "SolidMask"
      },
      "widgets_values": [
        0,
        768,
        768
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 227,
      "type": "MaskToImage",
      "pos": [
        -3063.349354170653,
        3835.7872204885684
      ],
      "size": [
        184.6236328125,
        26
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 375
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            376
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 228,
      "type": "RepeatImageBatch",
      "pos": [
        -2899.579344076299,
        3978.964146599606
      ],
      "size": [
        220,
        60
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 376
        },
        {
          "name": "amount",
          "type": "INT",
          "widget": {
            "name": "amount"
          },
          "link": 377
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            379,
            418
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "ue_properties": {
          "widget_ue_connectable": {
            "amount": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "RepeatImageBatch"
      },
      "widgets_values": [
        3
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 229,
      "type": "MaskToImage",
      "pos": [
        -3019.718524647269,
        4197.469664182467
      ],
      "size": [
        184.6236328125,
        26
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 378
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            416
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 230,
      "type": "VHS_SelectEveryNthImage",
      "pos": [
        -2564.8309232427964,
        4048.8550621825316
      ],
      "size": [
        266.349609375,
        102
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 379
        },
        {
          "name": "select_every_nth",
          "type": "INT",
          "widget": {
            "name": "select_every_nth"
          },
          "link": 380
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "count",
          "type": "INT",
          "links": [
            417
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "VHS_SelectEveryNthImage"
      },
      "widgets_values": {
        "select_every_nth": 1,
        "skip_first_images": 0
      }
    },
    {
      "id": 231,
      "type": "Int",
      "pos": [
        -4632.905991533081,
        2123.1096646654037
      ],
      "size": [
        280,
        60
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            386,
            406,
            408
          ]
        }
      ],
      "title": "Total Steps",
      "properties": {
        "cnr_id": "ComfyLiterals",
        "ver": "bdddb08ca82d90d75d97b1d437a652e0284a32ac",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "Number": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "Int"
      },
      "widgets_values": [
        "2"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 232,
      "type": "Int",
      "pos": [
        -4630.343174608882,
        2007.4878542860513
      ],
      "size": [
        280,
        60
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            387,
            407
          ]
        }
      ],
      "title": "Speed Optimization Start Steps",
      "properties": {
        "cnr_id": "ComfyLiterals",
        "ver": "bdddb08ca82d90d75d97b1d437a652e0284a32ac",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "Number": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "Int"
      },
      "widgets_values": [
        "0"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 233,
      "type": "PrimitiveInt",
      "pos": [
        -4638.176558899896,
        1875.7347164033965
      ],
      "size": [
        310,
        82
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            385,
            405
          ]
        }
      ],
      "properties": {
        "cnr_id": "cg-use-everywhere",
        "ver": "6.1.0",
        "ue_properties": {
          "version": "7.5.1",
          "group_restricted": 0,
          "color_restricted": 0,
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "title_regex": 107324378635127,
          "input_regex": "fixed",
          "fixed_inputs": true,
          "seed_inputs": true
        },
        "Node name for S&R": "Seed Everywhere",
        "ue_convert": true
      },
      "widgets_values": [
        107324378635127,
        "fixed"
      ]
    },
    {
      "id": 234,
      "type": "KSamplerAdvanced",
      "pos": [
        -4010.4574027227823,
        2170.2723556847795
      ],
      "size": [
        405.9512546863134,
        392.70832352488515
      ],
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 381
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 382
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 383
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 384
        },
        {
          "name": "noise_seed",
          "type": "INT",
          "widget": {
            "name": "noise_seed"
          },
          "link": 385
        },
        {
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": 386
        },
        {
          "name": "end_at_step",
          "type": "INT",
          "widget": {
            "name": "end_at_step"
          },
          "link": 387
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            404
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "enable",
        581528253564326,
        "fixed",
        15,
        1,
        "uni_pc",
        "simple",
        0,
        3,
        "disable"
      ]
    },
    {
      "id": 235,
      "type": "ContextWindowsManual",
      "pos": [
        -3495.547077064439,
        2082.641434174768
      ],
      "size": [
        270,
        202
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 388
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            401
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ContextWindowsManual"
      },
      "widgets_values": [
        384,
        2,
        "standard_uniform",
        1,
        false,
        "pyramid",
        0
      ]
    },
    {
      "id": 236,
      "type": "UnetLoaderGGUF",
      "pos": [
        -7413.116694368399,
        1907.5969421610332
      ],
      "size": [
        438.339970682905,
        58
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            389
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-gguf",
        "ver": "6570efec6992015085f11b84e42d32f6cc71e8b7",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "UnetLoaderGGUF"
      },
      "widgets_values": [
        "SkyReels-V2-T2V-14B-720P-VACE-Q5_K_S.gguf"
      ]
    },
    {
      "id": 237,
      "type": "PathchSageAttentionKJ",
      "pos": [
        -6932.954776525366,
        1883.513268888869
      ],
      "size": [
        344.49756010146734,
        58
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 389
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            390
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "PathchSageAttentionKJ"
      },
      "widgets_values": [
        "sageattn_qk_int8_pv_fp16_cuda"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 238,
      "type": "ModelPatchTorchSettings",
      "pos": [
        -6895.167369835662,
        2000.4671142785035
      ],
      "size": [
        280,
        60
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 390
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            393
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ModelPatchTorchSettings"
      },
      "widgets_values": [
        true
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 239,
      "type": "SetNode",
      "pos": [
        -6811.47766258377,
        2444.7311303539886
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "link": 391
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_VAE",
      "properties": {
        "previousName": "",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 240,
      "type": "SetNode",
      "pos": [
        -6869.298813238621,
        2293.993400996324
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 392
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_CLIP",
      "properties": {
        "previousName": "",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CLIP"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 241,
      "type": "SetNode",
      "pos": [
        -6534.1983685425375,
        1986.8755567534497
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 393
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_MODEL",
      "properties": {
        "previousName": "",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "MODEL"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 242,
      "type": "WanVideoNAG",
      "pos": [
        -5406.011115685426,
        1961.097438987937
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 394
        },
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 395
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            400
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.2",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "WanVideoNAG"
      },
      "widgets_values": [
        11,
        0.25,
        2.5,
        "default"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 243,
      "type": "CLIPTextEncode",
      "pos": [
        -5897.617952592406,
        1812.0246611751327
      ],
      "size": [
        364.9524767932753,
        149.55663758265064
      ],
      "flags": {
        "collapsed": false
      },
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 396
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            348
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 244,
      "type": "CLIPTextEncode",
      "pos": [
        -5908.661193213723,
        2039.0582026739235
      ],
      "size": [
        380,
        150
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 397
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            349,
            395
          ]
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走,过曝，sun, bright"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 246,
      "type": "ModelSamplingSD3",
      "pos": [
        -4962.380005804817,
        2033.528563694072
      ],
      "size": [
        280,
        58
      ],
      "flags": {},
      "order": 39,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 400
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            381,
            398
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ModelSamplingSD3"
      },
      "widgets_values": [
        4
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 247,
      "type": "KSamplerAdvanced",
      "pos": [
        -3124.8596429494783,
        2068.6206089147995
      ],
      "size": [
        480,
        608.6666870117188
      ],
      "flags": {},
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 401
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 402
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 403
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 404
        },
        {
          "name": "noise_seed",
          "type": "INT",
          "widget": {
            "name": "noise_seed"
          },
          "link": 405
        },
        {
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": 406
        },
        {
          "name": "start_at_step",
          "type": "INT",
          "widget": {
            "name": "start_at_step"
          },
          "link": 407
        },
        {
          "name": "end_at_step",
          "type": "INT",
          "widget": {
            "name": "end_at_step"
          },
          "link": 408
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            409
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "enable",
        234299849652594,
        "fixed",
        15,
        1,
        "uni_pc",
        "beta",
        3,
        15,
        "disable"
      ]
    },
    {
      "id": 249,
      "type": "TrimVideoLatent",
      "pos": [
        -2235.2308604993323,
        2053.1101615729567
      ],
      "size": [
        250,
        60
      ],
      "flags": {
        "collapsed": false
      },
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 409
        },
        {
          "name": "trim_amount",
          "type": "INT",
          "widget": {
            "name": "trim_amount"
          },
          "link": 410
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            411
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "trim_amount": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "TrimVideoLatent"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 250,
      "type": "VAEDecode",
      "pos": [
        -2118.3537752515404,
        2515.3756058842478
      ],
      "size": [
        180,
        50
      ],
      "flags": {
        "collapsed": false
      },
      "order": 65,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 411
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 412
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            344,
            414,
            415
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VAEDecode"
      },
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 252,
      "type": "VHS_VideoCombine",
      "pos": [
        -2269.4634303235953,
        2860.706609374597
      ],
      "size": [
        521.4673226853083,
        632.1648161883413
      ],
      "flags": {},
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 415
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "vace_repaint_out",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "vace_repaint_out_00028.mp4",
            "workflow": "vace_repaint_out_00028.png",
            "fullpath": "/code/ComfyUI/temp/vace_repaint_out_00028.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 253,
      "type": "RepeatImageBatch",
      "pos": [
        -2216.7859402957474,
        4100.055822230296
      ],
      "size": [
        220,
        60
      ],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 416
        },
        {
          "name": "amount",
          "type": "INT",
          "widget": {
            "name": "amount"
          },
          "link": 417
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            419
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "ue_properties": {
          "widget_ue_connectable": {
            "amount": true
          },
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "RepeatImageBatch"
      },
      "widgets_values": [
        3
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 254,
      "type": "InsertImagesToBatchIndexed",
      "pos": [
        -2028.844573842608,
        4319.215755022392
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "original_images",
          "type": "IMAGE",
          "link": 418
        },
        {
          "name": "images_to_insert",
          "type": "IMAGE",
          "link": 419
        },
        {
          "name": "indexes",
          "type": "STRING",
          "widget": {
            "name": "indexes"
          },
          "link": 420
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            421,
            422
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "InsertImagesToBatchIndexed"
      },
      "widgets_values": [
        "0, 3, 4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 25, 27, 28, 30, 31, 33, 34, 36, 37, 39, 40, 42, 43, 45, 46, 48, 49, 51, 52, 54",
        "replace"
      ]
    },
    {
      "id": 255,
      "type": "ImageToMask",
      "pos": [
        -1638.861355863934,
        4108.446890915242
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 421
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            352
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "red"
      ]
    },
    {
      "id": 256,
      "type": "PreviewImage",
      "pos": [
        -1425.2113910238131,
        4444.168658627759
      ],
      "size": [
        211.08592298185613,
        358.58796931918005
      ],
      "flags": {},
      "order": 60,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 422
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 257,
      "type": "PreviewImage",
      "pos": [
        -1459.4606582766628,
        4864.365219501942
      ],
      "size": [
        271.0439667397186,
        337.55119903296145
      ],
      "flags": {},
      "order": 53,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 423
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 245,
      "type": "Power Lora Loader (rgthree)",
      "pos": [
        -6944.515704075143,
        108.05752216963248
      ],
      "size": [
        324.82119140625,
        166
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "model",
          "type": "MODEL",
          "link": 398
        },
        {
          "dir": 3,
          "name": "clip",
          "type": "CLIP",
          "link": 399
        }
      ],
      "outputs": [
        {
          "dir": 4,
          "name": "MODEL",
          "shape": 3,
          "type": "MODEL",
          "links": [
            388
          ]
        },
        {
          "dir": 4,
          "name": "CLIP",
          "shape": 3,
          "type": "CLIP",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "1.0.2511111955",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Show Strengths": "Single Strength"
      },
      "widgets_values": [
        {},
        {
          "type": "PowerLoraLoaderHeaderWidget"
        },
        {
          "on": true,
          "lora": "lightx2v_T2V_14B_cfg_step_distill_v2_lora_rank64_bf16.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "wan\\fantasy\\lora-000009.TA_trained.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {},
        ""
      ]
    },
    {
      "id": 258,
      "type": "MarkdownNote",
      "pos": [
        -6919.270768325086,
        536.7812166844254
      ],
      "size": [
        1118.3692556174378,
        1159.881195219392
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "# Wan2.1 Video Generation (VACE)\n\n[**Tutorial**](https://docs.comfy.org/tutorials/video/wan/vace) | [**教程 (中文)**](https://docs.comfy.org/zh-CN/tutorials/video/wan/vace)\n\n---\n\n## 🧠 Diffusion Models\n\n- [SkyReels-V2-T2V-14B-720P-VACE-GGUF](https://huggingface.co/QuantStack/SkyReels-V2-T2V-14B-720P-VACE-GGUF) (finetuned in 720p@24fps)\n- [Wan-14B-T2V-FusionX-VACE-GGUF](https://huggingface.co/QuantStack/Wan-14B-T2V-FusionX-VACE-GGUF) (high-quality merge by [vrgamedevgirl](https://civitai.com/models/1651125))\n- [MoviiGen1.1-VACE-GGUF](https://huggingface.co/QuantStack/MoviiGen1.1-VACE-GGUF) (finetuned on cinematic shots in 720p and up)\n- [Wan2.1-VACE-14B-GGUF](https://huggingface.co/QuantStack/Wan2.1-VACE-14B-GGUF) (base model 480p@16fps)\n\n---\n\n## 🎨 VAE\n\n- [wan_2.1_vae.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors?download=true)\n\n---\n\n## 📝 Text Encoders  \nChoose **one** of the following:\n\n- [umt5_xxl_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp16.safetensors?download=true)  \n- [umt5_xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors?download=true)  \n- [umt5-xxl-encoder-gguf](https://huggingface.co/city96/umt5-xxl-encoder-gguf/tree/main)  \n\n> You can choose between .fp16, .fp8, or GGUF versions.\n\n---\n\n## 🔧 Optional LoRA Models\n\nThese LoRA adapters can optionally be applied to enhance or accelerate generation. Choose based on your use case:\n\n### 🚀 Speed Optimization\n\n#### 🔁 CausVid LoRAs\n\nCausVid LoRAs are experimental derivatives of the CausVid fine-tunes. The goal is to benefit from the temporal distillation in CausVid, rather than perform true causal inference.\n\n- **v1** – A direct extraction from the CausVid fine-tune. May degrade motion quality and introduce flashing artifacts at full strength.  \n  🔗 [Download v1](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_CausVid_14B_T2V_lora_rank32.safetensors)\n\n- **v1.5** – Identical to v1 but with the first block removed, resolving the flashing issue while preserving similar motion characteristics.  \n  🔗 [Download v1.5](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_CausVid_14B_T2V_lora_rank32_v1_5_no_first_block.safetensors)\n\n- **v2** – A further pruned version that retains only the attention layers (first block removed). Fixes flashing, improves motion preservation, and benefits from more inference steps and higher CFG (classifier-free guidance).  \n  🔗 [Download v2](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_CausVid_14B_T2V_lora_rank32_v2.safetensors)  \n\n🧠 Based on the [**CausVid framework**](https://aejion.github.io/accvideo/), converting a bidirectional transformer into an autoregressive one with streaming support.\n\n#### 🏎️ AccVid LoRA\n\n- [**Wan21_AccVid_T2V_14B_lora_rank32_fp16.safetensors**](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_AccVid_T2V_14B_lora_rank32_fp16.safetensors)  \n  Built on the [**AccVideo framework**](https://aejion.github.io/accvideo/), using trajectory-based few-step distillation from synthetic data for faster, more efficient inference.\n\n### 🎬 Cinematic Quality\n\n- [Wan21_T2V_14B_MoviiGen_lora_rank32_fp16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_T2V_14B_MoviiGen_lora_rank32_fp16.safetensors)  \n  Fine-tuned from [**MoviiGen 1.1**](https://huggingface.co/ZuluVision/MoviiGen1.1), optimized for **cinematic visual quality**. \n\n### 🏆 Preference-Driven Rewards\n\n- [Wan2.1-Fun-14B-InP-MPS.safetensors](https://huggingface.co/alibaba-pai/Wan2.1-Fun-Reward-LoRAs/blob/main/Wan2.1-Fun-14B-InP-MPS.safetensors)  \n  Powered by [**MPS**](https://github.com/Kwai-Kolors/MPS), a CLIP-based scoring model trained on 918K human preference choices across four dimensions: aesthetics, semantic alignment, detail quality, and overall quality.\n\n- [Wan2.1-Fun-14B-InP-HPS2.1.safetensors](https://huggingface.co/alibaba-pai/Wan2.1-Fun-Reward-LoRAs/blob/main/Wan2.1-Fun-14B-InP-HPS2.1.safetensors)  \n  Built on [**HPS v2**](https://github.com/tgxs002/HPSv2), fine-tuned on 798K human-labeled image pairs. Provides more accurate and generalizable human preference feedback for text-to-video models.\n\n---\n\n## 📁 File Save Structure\n\nSave all required files into the following directory structure under your ComfyUI/ folder:\n\nFile save location\n\n```\nComfyUI/\n├── models/\n│   ├── loras/\n│   │   └─── Wan21_CausVid_14B_T2V_lora_rank32.safetensors\n│   ├── unet/\n│   │   └─── MoviiGen1.1-VACE-Qx_x_x.gguf\n│   ├── text_encoders/\n│   │   └─── umt5_xxl_fp8_e4m3fn_scaled.safetensors # or GGUF (umt5-xxl-encoder-Qx_x.gguf)\n│   └── vae/\n│       └──  wan_2.1_vae.safetensors\n\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 215,
      "type": "PreviewImage",
      "pos": [
        -4210.974934533476,
        2819.008205508968
      ],
      "size": [
        547.7620485882849,
        320.2205125590733
      ],
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 358
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 248,
      "type": "LoadImagesFromFolderKJ",
      "pos": [
        -6243.134095638178,
        4349.919379910874
      ],
      "size": [
        290.5201171875,
        262
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            425
          ]
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "name": "count",
          "type": "INT",
          "links": [
            356,
            363,
            377
          ]
        },
        {
          "name": "image_path",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "LoadImagesFromFolderKJ"
      },
      "widgets_values": [
        "/code/comfyui_sandbox/video_renders/render_nfs_4screens_5_sdxl_1_upscale_2x",
        1920,
        1096,
        "crop",
        250,
        160,
        false
      ]
    },
    {
      "id": 251,
      "type": "ColorMatch",
      "pos": [
        -1668.767153305309,
        2535.884519920554
      ],
      "size": [
        270,
        126
      ],
      "flags": {},
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 413
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 414
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            357,
            424
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "ColorMatch"
      },
      "widgets_values": [
        "mkl",
        1,
        true
      ]
    },
    {
      "id": 200,
      "type": "SeedVR2VideoUpscaler",
      "pos": [
        216.60076995865677,
        3126.4594178214816
      ],
      "size": [
        270,
        386
      ],
      "flags": {},
      "order": 72,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 335
        },
        {
          "name": "dit",
          "type": "SEEDVR2_DIT",
          "link": 333
        },
        {
          "name": "vae",
          "type": "SEEDVR2_VAE",
          "link": 334
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            428
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "690cc39379c1481159ddd451368dbf2295930fc6",
        "Node name for S&R": "SeedVR2VideoUpscaler",
        "aux_id": "ainvfx/ComfyUI-SeedVR2_VideoUpscaler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        42,
        "fixed",
        480,
        0,
        81,
        true,
        "lab",
        8,
        8,
        0,
        0,
        "none",
        false
      ]
    },
    {
      "id": 259,
      "type": "ColorMatch",
      "pos": [
        620.3257770496709,
        3206.0105377355926
      ],
      "size": [
        270,
        126
      ],
      "flags": {},
      "order": 73,
      "mode": 0,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 427
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 428
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            429,
            430
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "ColorMatch"
      },
      "widgets_values": [
        "mkl",
        1,
        true
      ]
    },
    {
      "id": 191,
      "type": "easy imageScaleDownBy",
      "pos": [
        2112.179806284657,
        2675.360677125086
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 82,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 316
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            318,
            431
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "1.3.4",
        "Node name for S&R": "easy imageScaleDownBy",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.5
      ]
    },
    {
      "id": 214,
      "type": "VHS_VideoCombine",
      "pos": [
        -1085.8546648915012,
        3595.142802345881
      ],
      "size": [
        1588.4711758946369,
        1236.800333006961
      ],
      "flags": {},
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 357
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 18,
        "loop_count": 0,
        "filename_prefix": "vace_repaint_out",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "vace_repaint_out_00029.mp4",
            "workflow": "vace_repaint_out_00029.png",
            "fullpath": "/code/ComfyUI/temp/vace_repaint_out_00029.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 18
          }
        }
      }
    },
    {
      "id": 262,
      "type": "VHS_VideoCombine",
      "pos": [
        -1075.7738129978945,
        4922.40373889496
      ],
      "size": [
        1588.4711758946369,
        1252.8872168622904
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 434
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true
          },
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 18,
        "loop_count": 0,
        "filename_prefix": "vace_repaint_out",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "vace_repaint_out_00031.mp4",
            "workflow": "vace_repaint_out_00031.png",
            "fullpath": "/code/ComfyUI/temp/vace_repaint_out_00031.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 18
          }
        }
      }
    },
    {
      "id": 217,
      "type": "ImageResizeKJ",
      "pos": [
        -5244.925224921543,
        3674.114384265686
      ],
      "size": [
        315,
        266
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 425
        },
        {
          "name": "get_image_size",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            361,
            367,
            413,
            426,
            434,
            438
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            371,
            373
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            372,
            374
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.4.1",
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        832,
        480,
        "lanczos",
        false,
        2,
        0
      ]
    },
    {
      "id": 211,
      "type": "GetImageRangeFromBatch",
      "pos": [
        -4761.048928087031,
        2681.4937656378593
      ],
      "size": [
        280.3267578125,
        110
      ],
      "flags": {},
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 346
        },
        {
          "name": "masks",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            353,
            358
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.2",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "GetImageRangeFromBatch"
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 264,
      "type": "GetImageRangeFromBatch",
      "pos": [
        1011.3267792797009,
        5132.517915270095
      ],
      "size": [
        280.3267578125,
        110
      ],
      "flags": {},
      "order": 86,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 437
        },
        {
          "name": "masks",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "start_index",
          "type": "INT",
          "widget": {
            "name": "start_index"
          },
          "link": 443
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            441
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.2",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "GetImageRangeFromBatch"
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 265,
      "type": "GetImageRangeFromBatch",
      "pos": [
        1008.6393273877192,
        5297.868225732132
      ],
      "size": [
        280.3267578125,
        110
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 438
        },
        {
          "name": "masks",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "start_index",
          "type": "INT",
          "widget": {
            "name": "start_index"
          },
          "link": 444
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            442
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.2",
        "ue_properties": {
          "version": "7.5.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "GetImageRangeFromBatch"
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 263,
      "type": "Image Comparer (rgthree)",
      "pos": [
        1497.666659351362,
        5214.708028183475
      ],
      "size": [
        899.2682969137377,
        593.5301338150493
      ],
      "flags": {},
      "order": 87,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "image_a",
          "type": "IMAGE",
          "link": 441
        },
        {
          "dir": 3,
          "name": "image_b",
          "type": "IMAGE",
          "link": 442
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "1.0.2511111955",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_udaxi_01015_.png&type=temp&subfolder=&rand=0.7651534937435329"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_udaxi_01016_.png&type=temp&subfolder=&rand=0.9800890478905618"
          }
        ]
      ]
    },
    {
      "id": 154,
      "type": "KSampler",
      "pos": [
        1984.5040107936272,
        2273.44195726029
      ],
      "size": [
        270,
        262
      ],
      "flags": {},
      "order": 79,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 246
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 287
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 248
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 249
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            291
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        888,
        "fixed",
        2,
        1,
        "uni_pc",
        "beta",
        0.09
      ]
    },
    {
      "id": 261,
      "type": "ColorMatch",
      "pos": [
        2024.4475904134802,
        3253.6191603094926
      ],
      "size": [
        270,
        126
      ],
      "flags": {},
      "order": 84,
      "mode": 0,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 432
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 431
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            433,
            437
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.9",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        },
        "Node name for S&R": "ColorMatch"
      },
      "widgets_values": [
        "mkl",
        1,
        true
      ]
    },
    {
      "id": 260,
      "type": "ReroutePrimitive|pysssss",
      "pos": [
        -816.814954862548,
        2803.5236121207117
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "label": " ",
          "name": "value",
          "type": "*",
          "link": 426
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "*",
          "type": "IMAGE",
          "links": [
            427,
            432
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "1.2.5",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "ReroutePrimitive|pysssss"
      }
    },
    {
      "id": 179,
      "type": "VAEEncode",
      "pos": [
        2327.6958334336337,
        2529.1501208021796
      ],
      "size": [
        236.51193237304688,
        46
      ],
      "flags": {},
      "order": 83,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 318
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 297
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 267,
      "type": "easy int",
      "pos": [
        1544.1822089903135,
        5090.7347822147585
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "int",
          "type": "INT",
          "links": [
            443,
            444
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "1.3.4",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        },
        "Node name for S&R": "easy int"
      },
      "widgets_values": [
        104
      ]
    }
  ],
  "links": [
    [
      228,
      139,
      0,
      136,
      0,
      "CLIP"
    ],
    [
      229,
      139,
      0,
      137,
      0,
      "CLIP"
    ],
    [
      231,
      140,
      0,
      138,
      1,
      "VAE"
    ],
    [
      232,
      146,
      0,
      141,
      0,
      "MODEL"
    ],
    [
      233,
      147,
      0,
      143,
      0,
      "MODEL"
    ],
    [
      237,
      157,
      0,
      146,
      0,
      "MODEL"
    ],
    [
      238,
      148,
      0,
      147,
      0,
      "MODEL"
    ],
    [
      239,
      142,
      0,
      148,
      0,
      "MODEL"
    ],
    [
      241,
      140,
      0,
      149,
      1,
      "VAE"
    ],
    [
      246,
      155,
      0,
      154,
      0,
      "MODEL"
    ],
    [
      248,
      137,
      0,
      154,
      2,
      "CONDITIONING"
    ],
    [
      249,
      149,
      0,
      154,
      3,
      "LATENT"
    ],
    [
      250,
      158,
      0,
      155,
      0,
      "MODEL"
    ],
    [
      251,
      143,
      0,
      157,
      0,
      "MODEL"
    ],
    [
      252,
      141,
      0,
      158,
      0,
      "MODEL"
    ],
    [
      253,
      149,
      0,
      158,
      1,
      "LATENT"
    ],
    [
      281,
      165,
      0,
      149,
      0,
      "IMAGE"
    ],
    [
      287,
      136,
      0,
      154,
      1,
      "CONDITIONING"
    ],
    [
      291,
      154,
      0,
      138,
      0,
      "LATENT"
    ],
    [
      297,
      140,
      0,
      179,
      1,
      "VAE"
    ],
    [
      313,
      138,
      0,
      190,
      1,
      "IMAGE"
    ],
    [
      316,
      190,
      0,
      191,
      0,
      "IMAGE"
    ],
    [
      318,
      191,
      0,
      179,
      0,
      "IMAGE"
    ],
    [
      333,
      201,
      0,
      200,
      1,
      "SEEDVR2_DIT"
    ],
    [
      334,
      202,
      0,
      200,
      2,
      "SEEDVR2_VAE"
    ],
    [
      335,
      197,
      0,
      200,
      0,
      "IMAGE"
    ],
    [
      343,
      223,
      0,
      209,
      0,
      "IMAGE"
    ],
    [
      344,
      250,
      0,
      210,
      0,
      "IMAGE"
    ],
    [
      345,
      209,
      0,
      210,
      1,
      "IMAGE"
    ],
    [
      346,
      209,
      0,
      211,
      0,
      "IMAGE"
    ],
    [
      347,
      210,
      0,
      212,
      0,
      "IMAGE"
    ],
    [
      348,
      243,
      0,
      213,
      0,
      "CONDITIONING"
    ],
    [
      349,
      244,
      0,
      213,
      1,
      "CONDITIONING"
    ],
    [
      350,
      208,
      0,
      213,
      2,
      "VAE"
    ],
    [
      351,
      209,
      0,
      213,
      3,
      "IMAGE"
    ],
    [
      352,
      255,
      0,
      213,
      4,
      "MASK"
    ],
    [
      353,
      211,
      0,
      213,
      5,
      "IMAGE"
    ],
    [
      354,
      209,
      1,
      213,
      6,
      "INT"
    ],
    [
      355,
      209,
      2,
      213,
      7,
      "INT"
    ],
    [
      356,
      248,
      2,
      213,
      8,
      "INT"
    ],
    [
      357,
      251,
      0,
      214,
      0,
      "IMAGE"
    ],
    [
      358,
      211,
      0,
      215,
      0,
      "IMAGE"
    ],
    [
      361,
      217,
      0,
      218,
      0,
      "IMAGE"
    ],
    [
      362,
      219,
      0,
      218,
      1,
      "INT"
    ],
    [
      363,
      248,
      2,
      220,
      0,
      "INT"
    ],
    [
      364,
      219,
      0,
      220,
      1,
      "INT"
    ],
    [
      365,
      220,
      0,
      221,
      0,
      "INT"
    ],
    [
      366,
      221,
      0,
      222,
      0,
      "STRING"
    ],
    [
      367,
      217,
      0,
      223,
      0,
      "IMAGE"
    ],
    [
      368,
      218,
      0,
      223,
      1,
      "IMAGE"
    ],
    [
      369,
      222,
      0,
      223,
      2,
      "STRING"
    ],
    [
      370,
      222,
      0,
      224,
      0,
      "STRING"
    ],
    [
      371,
      217,
      1,
      225,
      0,
      "INT"
    ],
    [
      372,
      217,
      2,
      225,
      1,
      "INT"
    ],
    [
      373,
      217,
      1,
      226,
      0,
      "INT"
    ],
    [
      374,
      217,
      2,
      226,
      1,
      "INT"
    ],
    [
      375,
      225,
      0,
      227,
      0,
      "MASK"
    ],
    [
      376,
      227,
      0,
      228,
      0,
      "IMAGE"
    ],
    [
      377,
      248,
      2,
      228,
      1,
      "INT"
    ],
    [
      378,
      226,
      0,
      229,
      0,
      "MASK"
    ],
    [
      379,
      228,
      0,
      230,
      0,
      "IMAGE"
    ],
    [
      380,
      219,
      0,
      230,
      1,
      "INT"
    ],
    [
      381,
      246,
      0,
      234,
      0,
      "MODEL"
    ],
    [
      382,
      213,
      0,
      234,
      1,
      "CONDITIONING"
    ],
    [
      383,
      213,
      1,
      234,
      2,
      "CONDITIONING"
    ],
    [
      384,
      213,
      2,
      234,
      3,
      "LATENT"
    ],
    [
      385,
      233,
      0,
      234,
      4,
      "INT"
    ],
    [
      386,
      231,
      0,
      234,
      5,
      "INT"
    ],
    [
      387,
      232,
      0,
      234,
      6,
      "INT"
    ],
    [
      388,
      245,
      0,
      235,
      0,
      "MODEL"
    ],
    [
      389,
      236,
      0,
      237,
      0,
      "MODEL"
    ],
    [
      390,
      237,
      0,
      238,
      0,
      "MODEL"
    ],
    [
      391,
      205,
      0,
      239,
      0,
      "*"
    ],
    [
      392,
      204,
      0,
      240,
      0,
      "*"
    ],
    [
      393,
      238,
      0,
      241,
      0,
      "*"
    ],
    [
      394,
      206,
      0,
      242,
      0,
      "MODEL"
    ],
    [
      395,
      244,
      0,
      242,
      1,
      "CONDITIONING"
    ],
    [
      396,
      207,
      0,
      243,
      0,
      "CLIP"
    ],
    [
      397,
      207,
      0,
      244,
      0,
      "CLIP"
    ],
    [
      398,
      246,
      0,
      245,
      0,
      "MODEL"
    ],
    [
      399,
      207,
      0,
      245,
      1,
      "CLIP"
    ],
    [
      400,
      242,
      0,
      246,
      0,
      "MODEL"
    ],
    [
      401,
      235,
      0,
      247,
      0,
      "MODEL"
    ],
    [
      402,
      213,
      0,
      247,
      1,
      "CONDITIONING"
    ],
    [
      403,
      213,
      1,
      247,
      2,
      "CONDITIONING"
    ],
    [
      404,
      234,
      0,
      247,
      3,
      "LATENT"
    ],
    [
      405,
      233,
      0,
      247,
      4,
      "INT"
    ],
    [
      406,
      231,
      0,
      247,
      5,
      "INT"
    ],
    [
      407,
      232,
      0,
      247,
      6,
      "INT"
    ],
    [
      408,
      231,
      0,
      247,
      7,
      "INT"
    ],
    [
      409,
      247,
      0,
      249,
      0,
      "LATENT"
    ],
    [
      410,
      213,
      3,
      249,
      1,
      "INT"
    ],
    [
      411,
      249,
      0,
      250,
      0,
      "LATENT"
    ],
    [
      412,
      208,
      0,
      250,
      1,
      "VAE"
    ],
    [
      413,
      217,
      0,
      251,
      0,
      "IMAGE"
    ],
    [
      414,
      250,
      0,
      251,
      1,
      "IMAGE"
    ],
    [
      415,
      250,
      0,
      252,
      0,
      "IMAGE"
    ],
    [
      416,
      229,
      0,
      253,
      0,
      "IMAGE"
    ],
    [
      417,
      230,
      1,
      253,
      1,
      "INT"
    ],
    [
      418,
      228,
      0,
      254,
      0,
      "IMAGE"
    ],
    [
      419,
      253,
      0,
      254,
      1,
      "IMAGE"
    ],
    [
      420,
      222,
      0,
      254,
      2,
      "STRING"
    ],
    [
      421,
      254,
      0,
      255,
      0,
      "IMAGE"
    ],
    [
      422,
      254,
      0,
      256,
      0,
      "IMAGE"
    ],
    [
      423,
      223,
      0,
      257,
      0,
      "IMAGE"
    ],
    [
      424,
      251,
      0,
      197,
      0,
      "IMAGE"
    ],
    [
      425,
      248,
      0,
      217,
      0,
      "IMAGE"
    ],
    [
      426,
      217,
      0,
      260,
      0,
      "*"
    ],
    [
      427,
      260,
      0,
      259,
      0,
      "IMAGE"
    ],
    [
      428,
      200,
      0,
      259,
      1,
      "IMAGE"
    ],
    [
      429,
      259,
      0,
      203,
      0,
      "IMAGE"
    ],
    [
      430,
      259,
      0,
      165,
      0,
      "*"
    ],
    [
      431,
      191,
      0,
      261,
      1,
      "IMAGE"
    ],
    [
      432,
      260,
      0,
      261,
      0,
      "IMAGE"
    ],
    [
      433,
      261,
      0,
      176,
      0,
      "IMAGE"
    ],
    [
      434,
      217,
      0,
      262,
      0,
      "IMAGE"
    ],
    [
      437,
      261,
      0,
      264,
      0,
      "IMAGE"
    ],
    [
      438,
      217,
      0,
      265,
      0,
      "IMAGE"
    ],
    [
      441,
      264,
      0,
      263,
      0,
      "IMAGE"
    ],
    [
      442,
      265,
      0,
      263,
      1,
      "IMAGE"
    ],
    [
      443,
      267,
      0,
      264,
      2,
      "INT"
    ],
    [
      444,
      267,
      0,
      265,
      2,
      "INT"
    ]
  ],
  "groups": [
    {
      "id": 3,
      "title": "Prompt",
      "bounding": [
        551.6666259765625,
        2180.258544921875,
        648.9208984375,
        485.50201416015625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Sampling",
      "bounding": [
        1234.6976318359375,
        2183.804443359375,
        996.46484375,
        485.38079833984375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Wan 2.2 Model",
      "bounding": [
        -467.7548288672851,
        2088.785000887784,
        821.56494140625,
        574.8575439453125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Video Repaint 重繪",
      "bounding": [
        -6291.559179188215,
        1710.829573018214,
        5150.423056911891,
        3049.005256618935
      ],
      "color": "#88A",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.1918176537727527,
      "offset": [
        -1313.7252818227055,
        -4970.516750428783
      ]
    },
    "frontendVersion": "1.28.8",
    "node_versions": {
      "ComfyUI-WanVideoWrapper": "5a2383621a05825d0d0437781afcb8552d9590fd",
      "comfy-core": "0.3.26",
      "ComfyUI-KJNodes": "a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f",
      "ComfyUI-VideoHelperSuite": "0a75c7958fe320efcb052f1d9f8451fd20c730a8"
    },
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "ue_links": [],
    "links_added_by_ue": []
  },
  "version": 0.4
}